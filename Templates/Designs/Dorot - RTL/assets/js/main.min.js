  var accordionList = function(arg) {
	var list = arg;
	var readMore = list.find(".view-more-btn");
	readMore.on("click", function() {
    var $this = $(this);
    // var readMoreText = $this.attr("data-more");
    // var readLessText = $this.attr("data-less");
    var alreadyOpened = list.children().hasClass("opened");
    var hasOpened = $this.parents('.item').hasClass("opened");
    
    if (hasOpened) {
      // $this.html(readMoreText);
      $this.parents('.item').find(".box-details").slideUp('300');
      $this.parents('.item').removeClass("opened");  
    } else {
      if(alreadyOpened === true) {
       // list.find(".box-details").slideUp('fast');
        list.children().removeClass("opened");
        // list.children().find(".view-more-btn").html(readMoreText);
        // $this.html(readLessText);
        $this.parents('.item').find(".box-details").slideDown('300');
        $this.parents('.item').addClass("opened");                                    

        setTimeout(function(){
          var scrollTo = $this.parents('.item').offset().top - 150;
          scrollToPosition(scrollTo); 
          // $("#postform3").followTo(scrollTo + 345);      
        }, 300)                    
        
        
      } else {
        // $this.html(readLessText);
        $this.parents('.item').find(".box-details").slideDown('300');
        $this.parents('.item').addClass("opened");   

        setTimeout(function(){
          var scrollTo = $this.parents('.item').offset().top - 176;
          scrollToPosition(scrollTo);
           // $("#postform3").followTo(scrollTo + 345);
        }, 300)
      }
     
    }
  });
}

var scrollToPosition = function(arg){
  $('html, body').animate({
        scrollTop: arg
  }, 500);
    return false;
}

function footerMenu() {
  if ($(window).width() < 767) {
   $('.footer-dropdown:after').on("click", function(e){
      if($(this).attr("href")=="#") {
        e.preventDefault();
      }
      
      if ($(this).parent("li").hasClass("opened")) {
        $(this).parent("li").removeClass("opened");
        $(this).parent("li").find("ul").hide();
        return ;
      }
      $(this).parent("li").siblings('li').find("ul").hide();
      $(this).parent("li").siblings('li').removeClass("opened");
      $(this).parent("li").addClass("opened");
      $(this).parent("li").find("ul").show().addClass("opened");

   });
}

}
$(document).ready(function() {
	
   // scroll down arrow
   $('.scroll').on("click", function(e) {
      e.preventDefault();        
      $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top - 50}, 500, 'linear');     
   });
  
   $('.back-to-top').on("click", function(e) {
      e.preventDefault();        
      $('html, body').animate({ scrollTop: $($(this).attr('ref')).offset().top - 50}, 500, 'linear');     
   });
  

   var $navUlActive = $('.header li.selected ul.dropdown-menu.active');
   var $navLiActive = $('.header li.selected');
   var hasDrawer = $('.drawer').length == 1 ? true : false;

   $('.header li.dropdown').on("mouseover", function(){
     $(this).siblings('li').removeClass("active");
     $(this).addClass("active");
     $(this).parents("ul").find("ul.active").removeClass("active");
     $(this).find(".header ul.dropdown-menu").addClass("active");
     if(!$('.header').hasClass("drawer")) {
        $(".header").addClass("drawer");
     }
   });
   $('.header li.dropdown').on("mouseleave", function(){ 
     $('.header li.dropdown').removeClass("active");
     $('.header ul.dropdown-menu').removeClass("active");     
    
       setTimeout(function(){  
         if($navLiActive.length == 0 && $('.header li.dropdown.active').length == 0) {        
           $(".header").removeClass("drawer");
         }
       }, 300)
        
    
     if (!$navLiActive.hasClass("active")) {
       $navLiActive.addClass("active");
     }
     if (!$navUlActive.hasClass("active")) {       
       $navUlActive.addClass("active");        
     }     
   });

		// dropdown menu
		var menuOpened = false;
	 //  $('.dropdown').on("mouseover", function(){      
	 //    $(".header").addClass("drawer");
	 //  });   
	 //  $('.dropdown').on("mouseleave", function(){ 
  //     if (!$navUlActive.hasClass("active"))   {
  //       $(".header").removeClass("drawer");
  //     }	    
	 //  });
		// $('.dropdown-menu').on("mouseleave", function(){
  //     if (!$navUlActive.hasClass("active"))   {
  //       $(".header").removeClass("drawer");
  //     }
		// });

   
		// sticky
		$(window).scroll(function() {
			var winTop = $(window).scrollTop();
			if (winTop >= 60) {
				$(".header").addClass("sticky-header");
			} else {
				$(".header").removeClass("sticky-header");
			}
		})  	


		// about us accordion
		var accordionListTag = $(".accordion-list");
    accordionListTag.each(function(){
      accordionList($(this));
    });  
    footerMenu();
    
    $(window).resize(function() {
      footerMenu();     
    });  

    // Global sites
    // $('.global-sites').on('mouseover', function(){
    //   $(this).addClass('open');
    //   $('.dropdown-menu').addClass('open');
    // });
    // $('.global-sites').on('mouseleave', function(){
    //   $(this).removeClass('open');
    //   $('.dropdown-menu').removeClass('open');
    // });

});


$.fn.toggleMoreLess = function(shouldExpand) {
  
  var $this = $(this),
      $para = $this.children('.text'),
      $readMore = $this.children('.more-less-btn'),
      initialHeight = $para.outerHeight(),
      targetHeight = $para.prop('scrollHeight');
  
  var doAnimation = function() {
    var height, btnText;
    
    if (shouldExpand) {
      height = targetHeight;
      //btnText = 'Collapse to read less';
      //add text from properties of the button so we can use translate
      btnText =  $this.children('.more-less-btn').attr("data-collapse-text");
      $('.more-btn').addClass("less-btn");
    }
    else {
      height = initialHeight;
      //btnText = 'Expand to read more';
      //add text from properties of the button so we can use translate
      btnText =  $this.children('.more-less-btn').attr("data-expand-text");
      $('.more-btn').removeClass("less-btn");
    }
    
    $readMore.text(btnText);
    $para.animate({ height: height }, 'slow');
    shouldExpand = !shouldExpand; // Inverts state.
    $('.more-btn').find("img").toggleClass("flip");
  };
  $('.more-btn').find("img").toggleClass("flip");
  doAnimation();
  $this.children('.more-less-btn').on('click', doAnimation);
  $('.more-btn').on("click", function(){
    $this.children('.more-less-btn').click();
   
  });
  return $this;
  
};
$('.text-wrap').toggleMoreLess();
// This file is transpiled
$(function(){  

  
    var opened = false;
   
    function menuTranslate(arg){
      if (arg == "show"){
        $('.mobile-nav').fadeIn(500); 
      }
      if (arg == "hide"){
        $('.mobile-nav').fadeOut(500); 
      }
       
         
    }
    function showLevel(arg){ 
      arg.addClass("opened");
      arg.find("ul").eq(0).addClass("opened");
      arg.siblings("li").removeClass("opened");
      arg.siblings("li").find(".opened").removeClass("opened");
     
    }
    function hideLevel(arg) {
      arg.removeClass("opened");
      arg.find(".opened").removeClass("opened");
      
    }

    $('.mobile-wrapper').on("showMenu", function(){
      menuTranslate("show");
    });
    $('.mobile-wrapper').on("hideMenu", function(){
       menuTranslate("hide");
    });
    $('.mobile-menu-trigger').on("click", function(){
      if (opened === true) {
        $('.mobile-wrapper').trigger("hideMenu");
        setTimeout(function(){
          $('.mobile-nav .opened').removeClass("opened");
          $('.mobile-nav .hide-level').remove();
          $('.mobile-nav .reverse-caret').removeClass("reverse-caret")
        }, 300);
       
        opened = false;          
      } else {
        $('.mobile-wrapper').trigger("showMenu");
        opened = true;          
      }      
    });



    
    $('.mobile-nav').addClass("vertical");



    // Optional (can be rendered in Razor)
    function hasChildren(arg) {  
      if(arg.children("ul").length > 0) {
        arg.addClass("hasChildren");
        arg.find("a").eq(0).addClass("hasChildren");
      }
    }
    $('.mobile-nav li').each(function(){     
      hasChildren($(this));
    }); 
    // End

    // Open level
    $('.mobile-nav').on("click", "a", function(e) {  
      var href = $(this).attr("href");
      var $target =  $(this).parent(".hasChildren");         
      if( href == "#" || href =="" ) {
        e.preventDefault();
      }     
   
      if ($target.hasClass("opened")) {
        $(this).removeClass("reverse-caret");
        hideLevel($target);
      } else {
        showLevel($target);
        $(this).addClass("reverse-caret");
      }
      
      
    });

    // Hide level
    $('.mobile-nav').on("click", ".hide-level", function(){
      var $target = $(this).parent("li");      
      hideLevel($target);
    });

  

  //Initialize level
  //MobileMenu();
 
});
//# sourceMappingURL=main.min.js.map
